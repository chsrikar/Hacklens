<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HackLens - GitHub Repository Intelligence</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <span class="logo-icon">üîç</span>
                <h1>HackLens</h1>
            </div>
            <p class="tagline">Turn GitHub activity into clear development stories</p>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Landing Section -->
            <section id="landing-section" class="section landing-section">
                <div class="input-card">
                    <h2>Analyze a Repository</h2>
                    <p class="description">
                        Enter a GitHub repository URL to generate a comprehensive development summary.
                        Understand who contributed, where changes occurred, and how the project evolved.
                    </p>
                    
                    <form id="analyze-form" class="analyze-form">
                        <div class="form-group">
                            <label for="repo-url">Repository URL</label>
                            <input 
                                type="text" 
                                id="repo-url" 
                                name="repoUrl"
                                placeholder="https://github.com/owner/repository"
                                required
                                autocomplete="off"
                            >
                            <span class="input-hint">e.g., https://github.com/facebook/react</span>
                        </div>

                        <button type="submit" class="btn btn-primary" id="analyze-btn">
                            <span class="btn-text">Analyze Repository</span>
                            <span class="btn-loader hidden">
                                <span class="spinner"></span>
                                Analyzing...
                            </span>
                        </button>
                    </form>

                    <!-- Error Display -->
                    <div id="error-container" class="error-container hidden">
                        <div class="error-message">
                            <span class="error-icon">‚ö†Ô∏è</span>
                            <span id="error-text"></span>
                        </div>
                    </div>
                </div>

                <!-- Features List -->
                <div class="features">
                    <div class="feature">
                        <span class="feature-icon">üë•</span>
                        <h3>Contributors Overview</h3>
                        <p>See who worked on what and their focus areas</p>
                    </div>
                    <div class="feature">
                        <span class="feature-icon">üìÅ</span>
                        <h3>Code Changes</h3>
                        <p>Understand where development effort was focused</p>
                    </div>
                    <div class="feature">
                        <span class="feature-icon">üìñ</span>
                        <h3>Development Story</h3>
                        <p>Get an AI-generated narrative of project evolution</p>
                    </div>
                </div>
            </section>

            <!-- Loading Section -->
            <section id="loading-section" class="section loading-section hidden">
                <div class="loading-card">
                    <div class="loading-spinner">
                        <div class="spinner-ring"></div>
                    </div>
                    <h2>Analyzing Repository</h2>
                    <p class="loading-status" id="loading-status">Fetching commit history...</p>
                    <div class="loading-progress">
                        <div class="progress-bar" id="progress-bar"></div>
                    </div>
                </div>
            </section>

            <!-- Results Section -->
            <section id="results-section" class="section results-section hidden">
                <!-- Repository Info -->
                <div class="repo-header">
                    <button id="back-btn" class="btn btn-secondary btn-back">
                        ‚Üê New Analysis
                    </button>
                    <div class="repo-info">
                        <h2 id="repo-name">Repository Name</h2>
                        <a id="repo-link" href="#" target="_blank" class="repo-link">View on GitHub ‚Üí</a>
                    </div>
                    <span class="analysis-time" id="analysis-time"></span>
                </div>

                <!-- Repository Overview Card -->
                <div class="overview-card">
                    <h3>üìã Repository Overview</h3>
                    <p id="repo-purpose" class="repo-purpose"></p>
                    <div class="repo-meta">
                        <span class="meta-item" id="repo-language">
                            <span class="meta-icon">üíª</span>
                            <span class="meta-value">-</span>
                        </span>
                        <span class="meta-item" id="repo-stars">
                            <span class="meta-icon">‚≠ê</span>
                            <span class="meta-value">-</span>
                        </span>
                        <span class="meta-item" id="repo-forks">
                            <span class="meta-icon">üîÄ</span>
                            <span class="meta-value">-</span>
                        </span>
                        <span class="meta-item" id="repo-contributors-count">
                            <span class="meta-icon">üë•</span>
                            <span class="meta-value">-</span>
                        </span>
                    </div>
                    <div class="repo-topics" id="repo-topics"></div>
                </div>

                <!-- Validation Badge -->
                <div id="validation-badge" class="validation-badge hidden">
                    <span class="validation-icon">‚ö†Ô∏è</span>
                    <span class="validation-text">Data validation warning</span>
                </div>

                <!-- AI Summary Cards -->
                <div class="summary-grid">
                    <div class="summary-card narrative-card">
                        <h3>üìñ Development Story</h3>
                        <p id="development-narrative" class="narrative-text"></p>
                    </div>
                </div>

                <!-- Two Column Layout -->
                <div class="results-grid">
                    <!-- Contributors Section -->
                    <div class="results-card contributors-card">
                        <h3>üë• Contributors</h3>
                        <div class="contributor-count-info">
                            <span id="human-contributors">0 contributors</span>
                            <span id="bot-count" class="bot-count hidden">0 bots excluded</span>
                        </div>
                        <p id="contributors-summary" class="summary-text"></p>
                        <div class="contributors-list" id="contributors-list">
                            <!-- Contributors will be populated here -->
                        </div>
                    </div>

                    <!-- Changes Section -->
                    <div class="results-card changes-card">
                        <h3>üìÅ Code Changes</h3>
                        <p id="change-summary" class="summary-text"></p>
                        
                        <div class="stats-grid">
                            <div class="stat-item">
                                <span class="stat-value" id="total-commits">0</span>
                                <span class="stat-label">Total Commits</span>
                            </div>
                            <div class="stat-item stat-new">
                                <span class="stat-value" id="new-files">0</span>
                                <span class="stat-label">New Files</span>
                            </div>
                            <div class="stat-item stat-modified">
                                <span class="stat-value" id="modified-files">0</span>
                                <span class="stat-label">Modified</span>
                            </div>
                            <div class="stat-item stat-deleted">
                                <span class="stat-value" id="deleted-files">0</span>
                                <span class="stat-label">Deleted</span>
                            </div>
                        </div>

                        <h4>Most Changed Folders</h4>
                        <div class="folders-list" id="folders-list">
                            <!-- Folders will be populated here -->
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>HackLens - GitHub Repository Intelligence Tool</p>
            <p class="footer-note">This tool provides development summaries, not performance evaluations.</p>
        </footer>
    </div>

    <script src="/js/app.js"></script>
</body>
</html>
